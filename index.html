<!DOCTYPE html>
<html>
<head>
<title>Dwv</title>
<meta charset='utf-8' />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="description" content="Dwv : DICOM Web Viewer." />

<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
<style>
body {
    background-color: #efefef;
    font-family: Verdana, Arial, Helvetica, sans-serif;
}
.listview img {float:left; padding:0px 10px 10px 0px;}
.listview li {list-style-type:none; padding-top: 10px;}
ul li {clear:both;}
ul li h2 {font-size:90%;}
ul a {text-decoration:none;}
ul li p {font-size:80%;}
</style>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-40868511-1', 'github.io');
ga('send', 'pageview');
</script>

<script type="text/javascript">
var dataDicom = [
    {
    title: "Baby MRI", 
    uri: "http://x.babymri.org/?53320924&.dcm", 
    img: "babymri.png", 
    desc: "Brain MR, 256*256*1, LittleEndianExplicit [1.2.840.10008.1.2.1]"
    },
    {
    title: "Multi-slice Baby MRI", 
    uri: "http://x.babymri.org/?key=53320924&key=53321068&key=53322843&key=53322987&key=53323131",
    uriargs: "&dwvReplaceMode=void",
    img: "babymri.png", 
    desc: "Brain MR, 256*256*5, LittleEndianExplicit [1.2.840.10008.1.2.1]"
    }];
var dataDicomSop = [
    {
    title: "Toutatix", 
    uri: "https://github.com/ivmartel/dwv/raw/master/tests/pacs/data/?file=osirix-toutatix-100.dcm&file=osirix-toutatix-101.dcm",
    uriargs: "&dwvReplaceMode=void",
    img: "toutatix.png", 
    desc: "Chest CT(A), 512*512*1, LittleEndianExplicit [1.2.840.10008.1.2.1], from the Osirix examples, hosted on the dwv github."
    },
    {
    title: "Goudurix", 
    uri: "https://github.com/ivmartel/dwv/raw/master/tests/pacs/data/osirix-goudurix.dcm", 
    img: "goudurix.png", 
    desc: "Chest CT(A), 512*512*1, LittleEndianExplicit [1.2.840.10008.1.2.1], from the Osirix examples, hosted on the dwv github.",
    },
    {
    title: "US", 
    uri: "https://github.com/ivmartel/dwv/raw/master/tests/pacs/data/gdcm-US-RGB-8-epicard.dcm", 
    img: "us.png", 
    desc: "US, 640*480*1, BigEndianExplicit [1.2.840.10008.1.2.2], from the GDCM examples, hosted on the dwv github.",
    },
    {
    title: "Cerebrix", 
    uri: "https://github.com/ivmartel/dwv/raw/master/tests/pacs/data/osirix-cerebrix.dcm", 
    img: "cerebrix.png", 
    desc: "Brain SC (Secondary Capture), 176*224*1, JPEG2000 [1.2.840.10008.1.2.4.91], from the Osirix examples, hosted on the dwv github.",
    },
    {
    title: "JPEG 2000", 
    uri: "http://dicom.vital-it.ch:8089/wado?requestType=WADO&contentType=application/dicom&studyUID=2.16.840.1.113669.632.20.1211.10000744858&seriesUID=1.3.6.1.4.1.19291.2.1.2.2413568109772100001&objectUID=1.3.6.1.4.1.19291.2.1.3.2413568110716100007", 
    img: "vitalitch0.png", 
    desc: "Via wado, 176*224*1, JPEG2000 [1.2.840.10008.1.2.4.91], from the dicom.vital-it.ch examples.",
    }];
var dataImg = [
    {
    title: "JPEG", 
    uri: "http://upload.wikimedia.org/wikipedia/commons/c/c6/PET-image.jpg", 
    img: "brainpet-jpg.png", 
    desc: "Brain PET from wikipedia (http://en.wikipedia.org/wiki/File:PET-image.jpg), 531*600*1."
    },
    {
    title: "PNG", 
    uri: "http://upload.wikimedia.org/wikipedia/commons/7/7f/Brain_MRI_112010_rgbca.png", 
    img: "brainmri-png.png", 
    desc: "Brain MRI from wikipedia (http://en.wikipedia.org/wiki/File:Brain_MRI_112010_rgbca.png), 389*504*1."
    },
    {
    title: "JPG", 
    uri: "http://upload.wikimedia.org/wikipedia/commons/0/0e/Acute_leukemia-ALL.jpg", 
    img: "acute_leukemia.png", 
    desc: "Acute Leukimia from wikipedia (http://en.wikipedia.org/wiki/File:Acute_leukemia-ALL.jpg), 347*395*1."
    }];

function updateLinks()
{
    // update page links
    var links = document.getElementsByClassName('dwvlink');
    var tmp;
    var root = getDwvBaseUrl();
    for (var i = 0; i < links.length; ++i) {
        tmp = links[i].href.split('?');
        links[i].href = root+'?'+tmp[1];
    }
}
function getDwvBaseUrl()
{
    var useTrunkElement = document.getElementById('use-trunk');
    var useTrunk = useTrunkElement.checked;
    var select = document.getElementById('select-dwv');
    var flag = select.options[select.selectedIndex].value;

    var path = "demo";
    // stable or trunk
    if( !useTrunk ) path += "/stable";
    else path += "/trunk";
    // which viewer
    if( flag === "dwv-mobile" ) path += "/viewers/mobile";
    else if( flag === "dwv-static" ) path += "/viewers/static";
    else if( flag === "dwv-simple" ) path += "/viewers/simple";
    else if( flag === "dwv-simplistic" ) path += "/viewers/simplistic";
    // finish
    path += "/index.html";
    return path;
}
function getDwvUrl(uri)
{
    return getDwvBaseUrl() + "?input=" + encodeURIComponent(uri);
}
function createAndPutHtml(data, id)
{
    for( var i = 0; i < data.length; ++i )
    {
        // image
        var image = document.createElement("img");
        image.src = "images/"+data[i].img;
        // title
        var title = document.createElement("h2");
        title.appendChild(document.createTextNode(data[i].title));
        // description
        var desc = document.createElement("p");
        desc.appendChild(document.createTextNode(data[i].desc));
        if( data[i].comment ) {
            var comment = document.createElement("b");
            comment.appendChild(document.createTextNode(" "+data[i].comment));
            desc.appendChild(comment);
        }

        // link
        var link = document.createElement("a");
        link.href = getDwvUrl(data[i].uri);
        if( data[i].uriargs ) link.href += data[i].uriargs;
        link.className = "dwvlink";
        link.appendChild(image);

        // list item
        var li = document.createElement("li");
        li.appendChild(link);
        li.appendChild(title);
        li.appendChild(desc);
        var ul = document.getElementById(id);
        ul.appendChild(li);
    }
}

// create html once ready
window.onload = function() {
    createAndPutHtml(dataDicom, "uldatadicom");
    createAndPutHtml(dataDicomSop, "uldatadicomsop");
    createAndPutHtml(dataImg, "uldataimg");
}
</script>
</head>
<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
<header class="inner">
<a id="forkme_banner" href="https://github.com/ivmartel/dwv">Fork Me on GitHub</a>

<h1 id="project_title">Dwv</h1>
<h2 id="project_tagline">DICOM Web Viewer.</h2>

<section id="downloads">
<a class="zip_download_link" href="https://github.com/ivmartel/dwv/zipball/master">Download this project as a .zip file</a>
<a class="tar_download_link" href="https://github.com/ivmartel/dwv/tarball/master">Download this project as a tar.gz file</a>
</section>
</header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
<section id="main_content" class="inner">

<p>DWV (DICOM Web Viewer) is an open source zero footprint medical image viewer.
It uses only javascript and HTML5 technologies, meaning that it can be run on any
platform that provides a modern browser (laptop, tablet, phone and even modern TVs).
It can load local or remote data in DICOM format (the standard for medical imaging
data such as MR, CT, Echo, Mammo, NM...) and provides standard tools for its
manipulation such as contrast, zoom, drag, possibility to draw regions on top of the
image and imaging filters such as threshold and sharpening.</p>

<p>Here are a few data example that are displayed as they could
be on a web interface to a PACS system. Choose "DWV mobile" if you are using a phone or a tablet, 
choose "DWV static" on a laptop or desktop. Then click on the list item 
to launch DWV with the selected data.</p>

<div>
<label for="select-dwv">Choose which DWV to launch:</label>
<select id="select-dwv" onChange="updateLinks();">
<option value="dwv-mobile">DWV Mobile</option>
<option value="dwv-static">DWV Static</option>
<option value="dwv-simple">DWV Simple</option>
<option value="dwv-simplistic">DWV Simplistic</option>
</select>
</div>

<ul class="listview" id="uldatadicom"></ul>

<br style="clear:both">

<p>The folowing items link to data available online but not in a secured way due to 
the <a href="http://en.wikipedia.org/wiki/Same_origin_policy">same origin policy</a>. 
To see them start Google Chrome with <code>--disable-web-security</code>
(do not forget to <b>remove</b> that flag for normal browsing).</p>

<ul class="listview" id="uldatadicomsop"></ul>

<br style="clear:both">

<p>Non DICOM Image formats:</p>
<ul class="listview" id="uldataimg"></ul>

<br style="clear:both">

<p>Data sources:</p>
<ul>
<li><a href="http://www.babymri.org/">Baby MRI</a></li>
<li><a href="http://www.creatis.insa-lyon.fr/software/public/Gdcm/Main.html">GDCM (Creatis)</a></li>
<li><a href="http://www.osirix-viewer.com/datasets/">Osirix datasets</a></li>
<li><a href="http://dicom.vital-it.ch:8089/dcm4chee-web3/">dicom.vital-it.ch</a></li>
</ul>

<p>
<input type="checkbox" id="use-trunk" onChange="updateLinks();">
<label for="use-trunk">Use the trunk version (for debug purposes).<label>
</p>

</section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
<footer class="inner">
<p class="copyright">Dwv maintained by <a href="https://github.com/ivmartel">ivmartel</a></p>
<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
</footer>
</div>

</body>
</html>
